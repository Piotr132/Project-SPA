<div class="col-md-6 col-md-offset-3">
    <h2>Logowanie</h2>
    <div class="alert-wrapper" ng-if="loginCtrl.messages.length > 0">
      <div ng-repeat="(key, message) in loginCtrl.messages" uib-alert ng-class="'alert-' + message.type" close="loginCtrl.onMessageAlertClose(key)">
        {{message.message}}
      </div>
    </div>
    <div class="alert-wrapper" ng-if="loginCtrl.apiErrorText !== ''">
      <div uib-alert class="alert-danger" close="loginCtrl.onApiAlertClose()">
        {{loginCtrl.apiErrorText}}
      </div>
    </div>
    <form name="form" ng-submit="loginCtrl.login()" role="form">
        <div class="form-group" ng-class="{ 'has-error': form.login.$dirty && (form.login.$error.required || form.login.$error.minlength) }">
            <label for="login">Login</label>
            <input
              type="text"
              name="login"
              id="login"
              class="form-control"
              ng-model="loginCtrl.userData.login"
              ng-minlength="6"
              required
            />
            <span ng-show="form.login.$dirty && form.login.$error.required" class="help-block">Login jest wymagany</span>
            <span ng-show="form.login.$dirty && form.login.$error.minlength" class="help-block">Login zbyt krótki</span>
        </div>
        <div class="form-group" ng-class="{ 'has-error': form.password.$dirty && (form.password.$error.required || form.password.$error.minlength) }">
            <label for="password">Hasło</label>
            <input
              type="password"
              name="password"
              id="password"
              class="form-control"
              ng-model="loginCtrl.userData.password"
              ng-minlength="6"
              required
            />
            <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Hasło jest wymagane</span>
            <span ng-show="form.password.$dirty && form.password.$error.minlength" class="help-block">Hasło zbyt krótkie</span>
        </div>
        <div class="form-actions">
            <button type="submit" ng-disabled="form.$invalid || vm.dataLoading" class="btn btn-primary">Zaloguj się</button>
        </div>
    </form>
</div>
